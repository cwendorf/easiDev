---
title: "Repeated Alternative Data Example"
description: >
  This page examines a single-factor within-subjects (repeated measures) design using raw data input, focusing on comparisons and contrasts.
output: rmarkdown::html_vignette
---

```{r,include=FALSE}
if (!require(easiDev)) {
  if (!require(remotes)) install.packages("remotes")
  remotes::install_github("cwendorf/easiDev")
}
library(easiDev)
```

```{r, include=FALSE}
knitr::opts_chunk$set(fig.width = 7, fig.height = 7, comment = NA)
```

## Repeated Vignette

This vignette analyzes data from a single-factor within-subjects design.

```{r}
source("http://raw.githubusercontent.com/cwendorf/easiDev/main/source-easiDev.R")
```

```{r,include=FALSE}
devtools::source_gist("8e6e5dc401e3fc1042ef7a030f9d19c7", filename = "revised_toc.R")
thisfile <- knitr::current_input()
revised_toc(thisfile, base_level = 3, toc_depth = 4)
```

---

### Data Management

#### Data Entry

```{r}
Outcome1 <- c(0, 0, 3, 5)
Outcome2 <- c(4, 7, 4, 9)
Outcome3 <- c(9, 6, 4, 9)
RepeatedData <- data.frame(Outcome1, Outcome2, Outcome3)
```

#### Descriptive Statistics

```{r}
descMeans(RepeatedData)
```

### Analyses of the Means

#### Confidence Intervals

```{r,Repeated-MeansA}
ciMeans(RepeatedData)
graphMeans(RepeatedData)
```

```{r,Repeated-MeansB}
ciMeans(RepeatedData, conf.level = .99)
graphMeans(RepeatedData, conf.level = .99, mu = 5)
```

#### Significance Tests

```{r}
nhstMeans(RepeatedData)
nhstMeans(RepeatedData, mu = 5)
```

### Analyses of a Mean Difference

```{r}
ComparisonData <- data.frame(Outcome1, Outcome2)
```

#### Confidence Interval 

```{r,Repeated-DifferenceA}
ciDifference(ComparisonData)
graphDifference(ComparisonData)
```

```{r,Repeated-DifferenceB}
ciDifference(ComparisonData, conf.level = .99)
graphDifference(ComparisonData, conf.level = .99)
```

#### Significance Test 

```{r}
nhstDifference(ComparisonData)
nhstDifference(ComparisonData, mu = -2)
```

### Analyses of the Pairwise Comparisons

#### Confidence Intervals

```{r,Repeated-PairwiseA}
ciPairwise(RepeatedData)
graphPairwise(RepeatedData)
```

```{r,Repeated-PairwiseB}
ciPairwise(RepeatedData, conf.level = .99)
graphPairwise(RepeatedData, mu = -2, conf.level = .99)
```

#### Significance Tests

```{r}
nhstPairwise(RepeatedData)
nhstPairwise(RepeatedData, mu = -2)
```

### Analyses of a Set of Contrasts

#### Confidence Intervals

```{r,Repeated-ContrastsA}
ciContrasts(RepeatedData, contrasts = contr.sum)
graphContrasts(RepeatedData, contrasts = contr.sum)
```

```{r,Repeated-ContrastsB}
ciContrasts(RepeatedData, contrasts = contr.sum, conf.level = .99)
graphContrasts(RepeatedData, contrasts = contr.sum, conf.level = .99)
```

#### Significance Tests

```{r}
nhstContrasts(RepeatedData, contrasts = contr.sum)
```

### Analyses of the Effect

#### Source Table

```{r}
descEffect(RepeatedData)
```

#### Significance Test

```{r}
nhstEffect(RepeatedData)
```

#### Effect Size

```{r}
pvaEffect(RepeatedData)
```



```{r}
Outcome1 <- c(6, 8, 6, 8, 10, 8, 10, 9, 8, 7)
Outcome2 <- c(7, 13, 11, 10, 13, 8, 11, 14, 12, 11)
Outcome3 <- c(9, 16, 11, 12, 15, 13, 9, 14, 11, 10)
RepeatedData <- construct(Outcome1, Outcome2, Outcome3)
```

```{r}
(RepeatedData)
(RepeatedData) |> describeMoments() |> print(digits=2,width=10,main="tough")
(RepeatedData) |> describeCorrelations() |> print(digits=6)

(RepeatedData) |> estimateSet()
(RepeatedData) |> plotSet()
(RepeatedData) |> focus(Outcome1) |> estimateSet()
(RepeatedData) |> focus(Outcome1) |> plotSet(main="Single")

(RepeatedData) |> focus(Outcome1, Outcome2) |> estimateDifference()
(RepeatedData) |> focus(Outcome1, Outcome2) |> plotDifference()

(RepeatedData) |> focus(Outcome1, Outcome2) |> estimateComparison() |> print(digits=6,main=c("cool","cooler"))
(RepeatedData) |> focus(Outcome1, Outcome2) |> plotComparison()

(RepeatedData) |> estimateContrast(c(-1, .5, .5))
(RepeatedData) |> estimateSubsets(c(-1, .5, .5)) |> view()
(RepeatedData) |> plotSubsets(c(-1, .5, .5))


(RepeatedData) |> describe() |> focus(Outcome1, Outcome2) |> estimate(RepeatedCorr) |> graph()


```


## Repeated Summary

```{r}
Outcome1 <- c(N = 10, M = 8.000, SD = 1.414)
Outcome2 <- c(N = 10, M = 11.000, SD = 2.211)
Outcome3 <- c(N = 10, M = 12.000, SD = 2.449)
RepeatedSummary <- construct(Outcome1, Outcome2, Outcome3, class = "wsm")
```

```{r}
Outcome1 <- c(1.000, .533, .385)
Outcome2 <- c(.533, 1.000, .574)
Outcome3 <- c(.385, .574, 1.000)
RepeatedCorr <- construct(Outcome1, Outcome2, Outcome3, class = "cor")
```

```{r}
(RepeatedSummary)
(RepeatedCorr) |> print(digits=5)

(RepeatedSummary) |> class()
(RepeatedSummary) |> print(digits=6,width=11)
(RepeatedSummary) |> describeMoments() |> print(digits=5)

(RepeatedSummary) |> estimateSet() |> print(digits=8,width=12)
(RepeatedSummary) |> plotSet()

(RepeatedSummary) |> focus(Outcome1, Outcome2) |> estimateDifference(RepeatedCorr)
(RepeatedSummary) |> focus(Outcome1, Outcome2) |> plotDifference(RepeatedCorr)

(RepeatedSummary) |> focus(Outcome1, Outcome3) |> estimateComparison(RepeatedCorr)
(RepeatedSummary) |> focus(Outcome1, Outcome3) |> estimateComparison(RepeatedCorr)
(RepeatedSummary) |> focus(Outcome1, Outcome2) |> plotComparison(RepeatedCorr)

(RepeatedSummary) |> estimateContrast(RepeatedCorr, c(-1, .5, .5))

(RepeatedSummary) |> estimateSubsets(RepeatedCorr, c(-1, .5, .5))
(RepeatedSummary) |> plotSubsets(RepeatedCorr, c(-1, .5, .5))

(RepeatedSummary) |> focus(Outcome1, Outcome2) |> estimate(RepeatedCorr) |> graph()

```
